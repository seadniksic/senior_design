syntax = "proto3";

message Joystick_Input
{
    // fields that are set to its defualt value (0) are not
    // serialized over the wire!!
    // solution?
    // https://embeddedproto.com/documentation/using-a-message/optional-fields/
    enum Buttons
    {
        NONE = 0; // first entry required to be zero
        BTN_A = 1;
        BTN_B = 2;
        BTN_X = 4;
        BTN_Y = 8;
        BTN_START = 16;
        BTN_SELECT = 32;
        DPAD_UP = 64;
        DPAD_DOWN = 128;
        DPAD_LEFT = 256;
        DPAD_RIGHT = 512;
        BTN_THUMBR = 1024;
        BTN_THUMBL = 2048;
        BTN_TR = 4096;
        BTN_TL = 8192;
    }

    optional Buttons button = 1; // bit per button
    optional int32 LJOY_X = 2; // int16_t
    optional int32 LJOY_Y = 3;
    optional int32 RJOY_X = 4;
    optional int32 RJOY_Y = 5;
    optional int32 TR = 6; //uint8_t
    optional int32 TL = 7;
}

message Reply
{
    bool led_state = 1;
}